"use strict";var startupsApp=angular.module("angularMalmostartupsApp",["ngRoute","ngAnimate","ngSanitize","ngResource"]);startupsApp.config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!0),a.when("/",{templateUrl:"views/partials/start.html",controller:"MainCtrl"}).when("/signup",{templateUrl:"views/partials/signup.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),startupsApp.factory("mailchimpSubscriptionResource",["$resource",function(a){var b,c,d;return b="http://malmostartups.us3.list-manage.com/subscribe/post-json",c={EMAIL:"@email",NAME:"@name",COMPANY:"@company",c:"JSON_CALLBACK",u:"c3e71169823cf050b1f0976ef",id:"34a7af19fc"},d={post:{method:"jsonp"}},new a(b,c,d)}]),startupsApp.directive("clickOnce",["$timeout",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){a(function(){c.attr("disabled",!0)},0)})}}}]),startupsApp.controller("MainCtrl",["$scope","$location",function(a,b){a.yes=function(){a.go("/signup")},a.go=function(c){a.pageAnimationClass="slideLeft","back"===c?$window.history.back():b.path(c)}}]),startupsApp.controller("FormCtrl",["$scope","mailchimpSubscriptionResource",function(a,b){a.subscription=new b,a.joinButton="Join",a.doSubscribe=function(){a.joinButton="sending...",a.subscription.$post(function(b){if(a.joinButton="Join",b.readableErrorMessage="","error"===b.result&&b.msg){var c=b.msg.split(" - ",2);b.readableErrorMessage=c[1]?c[1]:c[0]}},function(){a.joinButton="Join"})}}]);